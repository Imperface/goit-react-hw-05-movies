{"version":3,"file":"static/js/661.3db115af.chunk.js","mappings":"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","sources":["pages/Movie.styled.js","pages/Movies.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const MovieSearchFormWrapper = styled.div`\n  padding: ${props => props.theme.spacing(20)};\n\n  & form {\n    display: flex;\n    justify-content: center;\n    column-gap: ${props => props.theme.spacing(5)};\n    color: ${props => props.theme.colors.primary};\n  }\n  & input {\n    flex-grow: 4;\n    border: 1px solid ${props => props.theme.colors.accent};\n    border-radius: 20px;\n    background-color: transparent;\n    padding: ${props => props.theme.spacing(5)};\n    color: inherit;\n\n    &::placeholder {\n      color: ${props => props.theme.colors.primary};\n    }\n  }\n  & button {\n    flex-grow: 1;\n    color: inherit;\n    border: 1px solid ${props => props.theme.colors.accent};\n    border-radius: 20px;\n    background-color: transparent;\n    padding: ${props => props.theme.spacing(5)};\n    cursor: pointer;\n    &:hover {\n      color: ${props => props.theme.colors.accent};\n    }\n  }\n`;\nexport const NoMovies = styled.div`\n  width: 100%;\n  padding: ${props => props.theme.spacing(10)};\n  border-radius: 20px;\n  background-color: ${props => props.theme.colors.cardBg};\n  text-align: center;\n`;\n","import axios from 'axios';\nimport { MovieSearchFormWrapper } from './Movie.styled';\nimport { Error, Loader, MovieList, NoResult, Section } from 'components';\nimport { Notify } from 'notiflix';\nimport { useEffect, useState } from 'react';\n\nimport { API_KEY } from 'constants';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movieData, setMovieData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    const fetchMovie = async () => {\n      try {\n        // create request options\n        const options = {\n          params: {\n            language: 'en-US',\n            page: '1',\n            api_key: API_KEY,\n            query: query,\n          },\n          headers: {\n            accept: 'application/json',\n          },\n        };\n        // mount spiner\n        setIsLoading(true);\n        const endpoint = 'https://api.themoviedb.org/3/search/movie';\n\n        // const { data: { results } } = await axios.get(endpoint, options);\n\n        // destr fetched data\n        const { data } = await axios.get(endpoint, options);\n        const { results } = data;\n\n        // unmount spiner, set data to state\n        setMovieData(results);\n        setIsLoading(false);\n      } catch (error) {\n        setIsLoading(false);\n        setError(error.message);\n      }\n    };\n    fetchMovie();\n  }, [query]);\n\n  const onSearchFormSubmit = e => {\n    e.preventDefault();\n    const inputRef = e.target.elements.movieSearch;\n    const inputValue = inputRef.value.trim().toLowerCase();\n    if (!inputValue) {\n      Notify.failure('Empty search query.');\n      return;\n    }\n    setSearchParams({ query: inputValue });\n  };\n  return (\n    <>\n      <Section>\n        <MovieSearchFormWrapper>\n          <form onSubmit={onSearchFormSubmit}>\n            <input\n              name=\"movieSearch\"\n              placeholder=\"Search movie\"\n              defaultValue={query ?? ''}\n            />\n            <button type=\"submit\">Search</button>\n          </form>\n        </MovieSearchFormWrapper>\n      </Section>\n\n      {isLoading && <Loader />}\n      {error && <Error />}\n\n      <Section>\n        {/* if movieData = true && if error = false =>  render movieList or noResult */}\n        {movieData &&\n          !error &&\n          (movieData.length > 0 ? (\n            <MovieList movies={movieData} />\n          ) : (\n            <NoResult text=\"No movies were found for your request\" />\n          ))}\n      </Section>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["MovieSearchFormWrapper","styled","_templateObject","_taggedTemplateLiteral","props","theme","spacing","colors","primary","accent","_templateObject2","cardBg","_useState","useState","_useState2","_slicedToArray","movieData","setMovieData","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","get","useEffect","fetchMovie","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","options","_yield$axios$get","data","results","_context","prev","next","params","language","page","api_key","API_KEY","headers","accept","axios","sent","t0","message","stop","apply","arguments","_jsxs","_Fragment","children","_jsx","Section","onSubmit","e","preventDefault","inputValue","target","elements","movieSearch","value","trim","toLowerCase","Notify","name","placeholder","defaultValue","type","Loader","Error","length","MovieList","movies","NoResult","text"],"sourceRoot":""}